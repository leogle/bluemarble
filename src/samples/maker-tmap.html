<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>标志物</title>
    <script src="http://api.tianditu.com/api?v=4.0" type="text/javascript"></script>
    <script src="../js/layer/general-map.js"></script>
    <script src="../js/layer/layer-base.js"></script>
    <script src="../js/layer/marker-layer.js"></script>
    <script src="../js/util/palette.js"></script>
    <script src="../js/d3.v4.js"></script>
    <link rel="stylesheet" href="../css/marker.css">
</head>
<body>
<div id="mapDiv" style="position:absolute;width:100%; height:900px"></div>
</body>
<script>
    var map;
    var zoom = 12;

    map = new T.Map('mapDiv');
    map.centerAndZoom(new T.LngLat(113.261, 23.096), zoom);

    var gmap = new GeneralMap({
        type:'tmap',
        map:map,
        force:true,
    });

    var layer = new MarkerLayer({
        map:gmap,
        style:'',
        onclick:function (data) {
            window.alert(data.name);
        }
    });
    var data = [{lng:113.261,lat:23.096,value:100,name: '站点1'},
        {lng:113.061,lat:23.196,value:60,name: '站点2'},
        {lng:113.161,lat:23.026,value:80,name: '站点3'}];

    layer.update(data);
</script>
</html>